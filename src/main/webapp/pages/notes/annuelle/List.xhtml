<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core">

    <ui:composition>
      
        <h:form id="form" >

            <p:dataTable var="etudiant" value="#{print.pvsannuel}"
                         scrollRows="1500" 
                         scrollable="true" liveScroll="true" scrollHeight="538"
                         rowIndexVar="index"
                         >


                <p:columnGroup type="header"  >
                    <p:row >
                         <p:column rowspan="4" colspan="3" headerText="" />
                          <p:column colspan="12" headerText="semestre 1"   />
                        <p:column colspan="12" headerText="semestre 2"   />
                    </p:row>
                    <p:row >
                       
                        <c:forEach items="#{print.modules1}" var="module">
                            <p:column colspan="2" width="55" headerText="#{module.intitule}"  />
                        </c:forEach> 
                        <c:forEach items="#{print.modules2}" var="module">
                            <p:column colspan="2"  width="55"  headerText="#{module.intitule}"  />
                        </c:forEach> 
                        <p:column  rowspan="5" headerText="moy." width="25"  />
                        <p:column rowspan="5" headerText="credits" width="25" />
                        <p:column rowspan="5" headerText="rang" width="25" />
                        <p:column rowspan="5" headerText="decision" width="25" />
                    </p:row>
                    <p:row>
                        <c:forEach items="#{print.modules1}" var="module">
                            <p:column  colspan="2" headerText="#{module.code}" />
                        </c:forEach>  
                        <c:forEach items="#{print.modules2}" var="module">
                            <p:column colspan="2"  headerText="#{module.code}" />
                        </c:forEach>
                    </p:row>
                    <p:row>
                        <c:forEach items="#{print.modules1}" var="module">
                            <p:column colspan="2"  headerText="#{module.credit}" />
                        </c:forEach> 
                        <c:forEach items="#{print.modules2}" var="module">
                            <p:column colspan="2"  headerText="#{module.credit}" />
                        </c:forEach>
                    </p:row>
                    <p:row>
                        <p:column  headerText="no" width="25" />
                        <p:column  headerText="matricule" width="80" />
                        <p:column  headerText="noms et prenoms" width="230" />
                        <c:forEach items="#{print.modules1}" var="module">
                            <p:column  headerText="grade" width="30" />
                            <p:column  headerText="cote" width="25" />
                        </c:forEach> 
                        <c:forEach items="#{print.modules2}" var="module">
                            <p:column  headerText="grade" width="30" />
                            <p:column  headerText="cote" width="25" />
                        </c:forEach>  

                    </p:row>

                </p:columnGroup>
                <p:column width="25">
                    <h:outputText value="#{index+1}" />
                </p:column>
                <p:column width="80">
                    <h:outputText value="#{etudiant.matEtudiant}"  />
                </p:column>
                <p:column width="230">
                    <h:outputText value="#{etudiant.nomEtudiant}" />
                </p:column>
                   <p:column width="30"  >
                        <h:outputText value="#{etudiant.grade1}" />
                    </p:column>
                    <p:column width="25">
                        <h:outputText value="#{etudiant.cote1}" />
                    </p:column>
                
                <p:column width="30"  >
                        <h:outputText value="#{etudiant.grade2}" />
                    </p:column>
                    <p:column width="25">
                        <h:outputText value="#{etudiant.cote2}" />
                    </p:column>
                
                <p:column width="30"  >
                        <h:outputText value="#{etudiant.grade3}" />
                    </p:column>
                    <p:column width="25">
                        <h:outputText value="#{etudiant.cote3}" />
                    </p:column>
                
                <p:column width="30"  >
                        <h:outputText value="#{etudiant.grade4}" />
                    </p:column>
                    <p:column width="25">
                        <h:outputText value="#{etudiant.cote4}" />
                    </p:column>
                
                <p:column width="30"  >
                        <h:outputText value="#{etudiant.grade5}" />
                    </p:column>
                    <p:column width="25">
                        <h:outputText value="#{etudiant.cote5}" />
                    </p:column>
                
                <p:column width="30"  >
                        <h:outputText value="#{etudiant.grade6}" />
                    </p:column>
                    <p:column width="25">
                        <h:outputText value="#{etudiant.cote6}" />
                    </p:column>
                
                <p:column width="30"  >
                        <h:outputText value="#{etudiant.grade7}" />
                    </p:column>
                    <p:column width="25">
                        <h:outputText value="#{etudiant.cote7}" />
                    </p:column>
                
                <p:column width="30"  >
                        <h:outputText value="#{etudiant.grade8}" />
                    </p:column>
                    <p:column width="25">
                        <h:outputText value="#{etudiant.cote8}" />
                    </p:column>
                
                <p:column width="30"  >
                        <h:outputText value="#{etudiant.grade9}" />
                    </p:column>
                    <p:column width="25">
                        <h:outputText value="#{etudiant.cote9}" />
                    </p:column>
                
                <p:column width="30"  >
                        <h:outputText value="#{etudiant.grade10}" />
                    </p:column>
                    <p:column width="25">
                        <h:outputText value="#{etudiant.cote10}" />
                    </p:column>
                
                <p:column width="30"  >
                        <h:outputText value="#{etudiant.grade11}" />
                    </p:column>
                    <p:column width="25">
                        <h:outputText value="#{etudiant.cote11}" />
                    </p:column>
                
                <p:column width="30"  >
                        <h:outputText value="#{etudiant.grade12}" />
                    </p:column>
                    <p:column width="25">
                        <h:outputText value="#{etudiant.cote12}" />
                    </p:column>
              
              
                <p:column width="25">
                    <h:outputText value="#{etudiant.moy}" />
                </p:column >
                <p:column width="25">
                    <h:outputText value="#{etudiant.cap}" />
                </p:column>
                <p:column width="25">
                    <h:outputText value="#{etudiant.rang}" />
                </p:column>
                 <p:column width="25">
                     <h:outputText value="#{etudiant.decision}" />
                </p:column>

            </p:dataTable>

        </h:form> 

    </ui:composition>
</html>