
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core"

      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">

    <f:view contentType="text/html" locale="#{changeLocale.locale}">

        <h:head>
            <title> login</title>
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
            <h:outputStylesheet library="css" name="login.css"/>
            <link rel="icon" type="image/x-icon" href="#{request.contextPath}/resources/images/logo.png"/>
            <meta name="viewport" content="width=device-width, initial-scale=1" />
            <script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
        </h:head>

        <h:body onload='document.form1.username.focus();'  >
            <p:growl id="growl" life="30000"/>
            <div class="main">
                <div class="langugeButton" >
                    <h:form >
                        <h:panelGrid columns="2" > 

                            <h:commandButton title="franÃ§ais" value="#{myBundle.langue1}" image="/resources/images/fr.png" action="#{changeLocale.setFrenchLocale}" />
                            <h:commandButton title="anglais" value="#{myBundle.langue2}" image="/resources/images/en.png" action="#{changeLocale.setEnglishLocale}"/>

                        </h:panelGrid>  

                    </h:form>

                </div>
                <h:form onsubmit="this.action = '/flsh/auth/login_check?targetUrl=#{targetUrl}';" id="form1"  >
                    <c:if test="${not empty error}">
                        <div class="errorblock" >
                            Parametres de connection incorrects !
                        </div>
                    </c:if>
                    <div class="inset">
                        <p>
                            <h:outputLabel id="name" for="nom"   value="#{myBundle.login_username}" />
                            <input type="text" placeholder="" id='username'  name='username' required="le nom est obligatoire" />
                        </p>
                        <p>
                            <h:outputLabel id="pwd" for="passwd" value="#{myBundle.login_password}" />
                            <input type="password" placeholder="" name='password' required="le mot de passe est obligatoire"/>
                        </p>                        
                    </div>

                    <p class="p-container">
                        <input name="submit" type="submit" value="Se connecter" />
                    </p>
                    
                    
                    <input type="hidden" name="${_csrf.parameterName}"
                           value="${_csrf.token}" />

                    
                </h:form>

                <div id="signa" style="font: normal small-caps 130% fantasy"><h3>(2016) SYGE - Vesrsion 1.0</h3></div>
            </div> 

            <script type="text/javascript">       
                window.onload = function() {
                document.getElementById('username').focus();
                };
            </script>


        </h:body>
    </f:view>
</html>
